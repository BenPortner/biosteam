
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>MassBalance &#8212; BioSTEAM 0.1 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MolecularSieve" href="MolecularSieve Example.html" />
    <link rel="prev" title="HXutility" href="HXutility Example.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="MolecularSieve Example.html" title="MolecularSieve"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="HXutility Example.html" title="HXutility"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">BioSTEAM 0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="HXutility Example.html"
                        title="previous chapter">HXutility</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="MolecularSieve Example.html"
                        title="next chapter">MolecularSieve</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/MassBalance Example.ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 9ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }
</style>
<div class="section" id="MassBalance">
<h1>MassBalance<a class="headerlink" href="#MassBalance" title="Permalink to this headline">Â¶</a></h1>
<p><strong>MassBalance are Unit objects that serve to alter flow rates of
selected species and input streams to satisfy the mass balance. The
example below uses the MassBalance object to satisfy the target flow
rate feeding the mixer M1.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">biosteam</span> <span class="k">import</span> <span class="n">Species</span><span class="p">,</span> <span class="n">Stream</span><span class="p">,</span> <span class="n">System</span>
<span class="kn">from</span> <span class="nn">biosteam.units</span> <span class="k">import</span> <span class="n">Mixer</span><span class="p">,</span> <span class="n">Splitter</span><span class="p">,</span> <span class="n">Tank</span><span class="p">,</span> <span class="n">Pump</span><span class="p">,</span> <span class="n">Flash</span><span class="p">,</span> <span class="n">MassBalance</span>
<span class="n">Stream</span><span class="o">.</span><span class="n">species</span> <span class="o">=</span> <span class="n">Species</span><span class="p">(</span><span class="s1">&#39;Ethanol&#39;</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">)</span>

<span class="n">water</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">(</span><span class="s1">&#39;water&#39;</span><span class="p">,</span>
               <span class="n">Water</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
               <span class="n">units</span><span class="o">=</span><span class="s1">&#39;lb/s&#39;</span><span class="p">,</span>
               <span class="n">T</span><span class="o">=</span><span class="mi">350</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="mi">101325</span><span class="p">)</span>
<span class="n">ethanol</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">(</span><span class="s1">&#39;ethanol&#39;</span><span class="p">,</span>
                 <span class="n">Ethanol</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">Water</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                 <span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="mi">101325</span><span class="p">)</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">flow</span><span class="o">=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>

<span class="n">T1</span> <span class="o">=</span> <span class="n">Tank</span><span class="p">(</span><span class="s1">&#39;T1&#39;</span><span class="p">)</span>
<span class="n">T2</span> <span class="o">=</span> <span class="n">Tank</span><span class="p">(</span><span class="s1">&#39;T2&#39;</span><span class="p">)</span>
<span class="n">P1</span> <span class="o">=</span> <span class="n">Pump</span><span class="p">(</span><span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="mi">101325</span><span class="p">)</span>
<span class="n">P2</span> <span class="o">=</span> <span class="n">Pump</span><span class="p">(</span><span class="s1">&#39;P2&#39;</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="mi">101325</span><span class="p">)</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">Mixer</span><span class="p">(</span><span class="s1">&#39;M1&#39;</span><span class="p">)</span>
<span class="n">S1</span> <span class="o">=</span> <span class="n">Splitter</span><span class="p">(</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">F1</span> <span class="o">=</span> <span class="n">Flash</span><span class="p">(</span><span class="s1">&#39;F1&#39;</span><span class="p">,</span> <span class="n">V</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">P</span> <span class="o">=</span><span class="mi">101325</span><span class="p">)</span>

<span class="n">water</span><span class="o">-</span><span class="n">T1</span><span class="o">-</span><span class="n">P1</span>
<span class="n">ethanol</span><span class="o">-</span><span class="n">T2</span><span class="o">-</span><span class="n">P2</span>
<span class="p">[</span><span class="n">P1</span><span class="o">-</span><span class="mi">0</span><span class="p">,</span> <span class="n">P2</span><span class="o">-</span><span class="mi">0</span><span class="p">,</span> <span class="n">S1</span><span class="o">-</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">M1</span><span class="o">-</span><span class="n">F1</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">S1</span>

<span class="n">MB1</span> <span class="o">=</span> <span class="n">MassBalance</span><span class="p">(</span><span class="s1">&#39;MB1&#39;</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
                  <span class="n">species</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ethanol&#39;</span><span class="p">,</span> <span class="s1">&#39;Water&#39;</span><span class="p">],</span>
                  <span class="n">outs</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
                  <span class="n">ins</span><span class="o">=</span><span class="p">(</span><span class="n">water</span><span class="p">,</span> <span class="n">ethanol</span><span class="p">,</span> <span class="n">S1</span><span class="o">-</span><span class="mi">0</span><span class="p">))</span>

<span class="n">mixSys</span> <span class="o">=</span> <span class="n">System</span><span class="p">(</span><span class="s1">&#39;mixSys&#39;</span><span class="p">,</span>
                <span class="n">recycle</span> <span class="o">=</span> <span class="n">S1</span><span class="o">-</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">network</span><span class="o">=</span><span class="p">(</span><span class="n">MB1</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="n">M1</span><span class="p">,</span> <span class="n">F1</span><span class="p">,</span> <span class="n">S1</span><span class="p">))</span>
<span class="n">mixSys</span><span class="o">.</span><span class="n">diagram</span><span class="p">()</span>
<span class="n">mixSys</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="n">MB1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/MassBalance_Example_2_0.svg" src="_images/MassBalance_Example_2_0.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
MassBalance: MB1
<span class="ansi-white-fg">ins...</span>
[0] water
    phase: &#39;l&#39;, T: 350 K, P: 101325 Pa
    flow (kmol/hr): Water  30.2
[1] ethanol
    phase: &#39;l&#39;, T: 300 K, P: 101325 Pa
    flow (kmol/hr): Ethanol  40.3
                    Water    4.48
[2] d6  from  Splitter-S1
    phase: &#39;l&#39;, T: 353.88 K, P: 101325 Pa
    flow (kmol/hr): Ethanol  9.65
                    Water    15.3
<span class="ansi-white-fg">outs...</span>
[0] target
    phase: &#39;l&#39;, T: 298.15 K, P: 101325 Pa
    flow (kmol/hr): Ethanol  50
                    Water    50
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
C:\ProgramData\Anaconda3\lib\site-packages\scipy\optimize\zeros.py:195: RuntimeWarning: Tolerance of 1.6053724039011286e-07 reached
  warnings.warn(msg, RuntimeWarning)
C:\Users\yoelr\Dropbox\Cortes-Pena-Guest_Shared\Code\biosteam\biosteam\units\flash.py:223: DesignWarning: @Flash F1: Vertical vessel weight (949.3 ) is out of bounds (4200 to 1e+06 ).
  out = self._vertical()
C:\Users\yoelr\Dropbox\Cortes-Pena-Guest_Shared\Code\biosteam\biosteam\units\flash.py:429: DesignWarning: @Flash F1: Diameter (2.5 ft) is out of bounds (3 to 21 ft).
  d[&#39;Diameter&#39;] = D    # ft
</pre></div></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="MolecularSieve Example.html" title="MolecularSieve"
             >next</a> |</li>
        <li class="right" >
          <a href="HXutility Example.html" title="HXutility"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">BioSTEAM 0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Yoel Cortes-Pena and Guest Group.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>